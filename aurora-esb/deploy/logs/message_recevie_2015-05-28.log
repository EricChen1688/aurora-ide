2015-05-28 18:06:37.383 [aurora.database] [CONFIG] Running batch-apply with data from path /parameter, total 1 records
2015-05-28 18:06:37.383 [aurora.database] [CONFIG] Executing batch-apply on parameter No.0
2015-05-28 18:06:37.396 [uncertain.proc] [CONFIG] [action] DecideStatement
2015-05-28 18:06:37.398 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2015-05-28 18:06:37.398 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2015-05-28 18:06:37.399 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2015-05-28 18:06:37.400 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2015-05-28 18:06:37.400 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2015-05-28 18:06:37.402 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2015-05-28 18:06:37.403 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2015-05-28 18:06:37.403 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2015-05-28 18:06:37.404 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2015-05-28 18:06:37.404 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2015-05-28 18:06:37.415 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

                DECLARE
                    file_exist NUMBER;
                    v_head_id  number;
                BEGIN
                    SELECT COUNT(1) into file_exist FROM tm_interface_headers WHERE filename = ?;
                    
                    v_head_id := tm_interface_headers_s.nextval;
                    ? := v_head_id;
                    
                    IF file_exist = 0 THEN
                        INSERT
                        INTO
                            tm_interface_headers
                            (
                                head_id,
                                filename,
                                filedate,
                                batchid,
                                version,
                                COUNT,
                                islast,
                                enabled_flag,
                                creation_date,
                                created_by,
                                last_update_date,
                                last_updated_by
                            )
                            VALUES
                            (
                                v_head_id,
                                ?,
                                ?,
                                ?,
                                ?,
                                ?,
                                ?,
                                'Y',
                                sysdate,
                                1,
                                sysdate,
                                1
                            );
                    END IF;
                END;
            
---------------------Binding info---------------------
No.1	Access path:@fileName	Data type of passed value :java.lang.String	Value:CFCar_AUTOFI_PAYMENT_RESULT_20150202_1.txt	Output:false	Database Type:null	
No.2	Access path:@head_id	Data type of passed value :[null]	Value:null	Output:true	Database Type:null	
No.3	Access path:@fileName	Data type of passed value :java.lang.String	Value:CFCar_AUTOFI_PAYMENT_RESULT_20150202_1.txt	Output:false	Database Type:null	
No.4	Access path:@yyymmdd	Data type of passed value :java.lang.String	Value:20150202	Output:false	Database Type:null	
No.5	Access path:@batchNo	Data type of passed value :java.lang.String	Value:1	Output:false	Database Type:null	
No.6	Access path:@version	Data type of passed value :java.lang.String	Value:1.0	Output:false	Database Type:null	
No.7	Access path:@count	Data type of passed value :java.lang.String	Value:2	Output:false	Database Type:null	
No.8	Access path:@isLast	Data type of passed value :java.lang.String	Value:YES	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2015-05-28 18:06:37.417 [aurora.database] [CONFIG] ============ Running model batch update with data from path @current_parameter/datas, total 2 records
2015-05-28 18:06:37.417 [aurora.database] [CONFIG] execute update on record No.0 for model tm_interface_payment_result
2015-05-28 18:06:37.419 [uncertain.proc] [CONFIG] [action] DecideStatement
2015-05-28 18:06:37.420 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2015-05-28 18:06:37.421 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2015-05-28 18:06:37.421 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2015-05-28 18:06:37.421 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2015-05-28 18:06:37.422 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2015-05-28 18:06:37.422 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2015-05-28 18:06:37.422 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2015-05-28 18:06:37.422 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2015-05-28 18:06:37.423 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2015-05-28 18:06:37.423 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2015-05-28 18:06:37.430 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

                BEGIN
                    INSERT
                    INTO
                        tm_interface_payment_result
                        (
                            payment_line_id,
                            head_id,
                            applyno,
                            termno,
                            paymentdate,
                            amunt,
                            creation_date,
                            created_by,
                            last_update_date,
                            last_updated_by
                        )
                        VALUES
                        (
                            tm_interface_payment_result_s.nextval,
                            ?,
                            ?,
                            ?,
                            to_date(?,'yyyy-mm-dd hh24:mi:ss'),
                            ?,
                            sysdate,
                            1,
                            sysdate,
                            1
                        );
                END;
            
---------------------Binding info---------------------
No.1	Access path:../../@head_id	Data type of passed value :java.lang.Long	Value:119	Output:false	Database Type:null	
No.2	Access path:@applyno	Data type of passed value :java.lang.String	Value:94012014070100039588S	Output:false	Database Type:null	
No.3	Access path:@termno	Data type of passed value :java.lang.String	Value:05	Output:false	Database Type:null	
No.4	Access path:@paymentdate	Data type of passed value :java.lang.String	Value:2015-04-04 12:12:12	Output:false	Database Type:null	
No.5	Access path:@amunt	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2015-05-28 18:06:37.430 [aurora.database] [CONFIG] execute update on record No.1 for model tm_interface_payment_result
2015-05-28 18:06:37.432 [uncertain.proc] [CONFIG] [action] DecideStatement
2015-05-28 18:06:37.433 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2015-05-28 18:06:37.433 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2015-05-28 18:06:37.433 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2015-05-28 18:06:37.434 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2015-05-28 18:06:37.434 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2015-05-28 18:06:37.434 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2015-05-28 18:06:37.434 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2015-05-28 18:06:37.434 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2015-05-28 18:06:37.434 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2015-05-28 18:06:37.434 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2015-05-28 18:06:37.439 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

                BEGIN
                    INSERT
                    INTO
                        tm_interface_payment_result
                        (
                            payment_line_id,
                            head_id,
                            applyno,
                            termno,
                            paymentdate,
                            amunt,
                            creation_date,
                            created_by,
                            last_update_date,
                            last_updated_by
                        )
                        VALUES
                        (
                            tm_interface_payment_result_s.nextval,
                            ?,
                            ?,
                            ?,
                            to_date(?,'yyyy-mm-dd hh24:mi:ss'),
                            ?,
                            sysdate,
                            1,
                            sysdate,
                            1
                        );
                END;
            
---------------------Binding info---------------------
No.1	Access path:../../@head_id	Data type of passed value :java.lang.Long	Value:119	Output:false	Database Type:null	
No.2	Access path:@applyno	Data type of passed value :java.lang.String	Value:94012014070100039589S	Output:false	Database Type:null	
No.3	Access path:@termno	Data type of passed value :java.lang.String	Value:06	Output:false	Database Type:null	
No.4	Access path:@paymentdate	Data type of passed value :java.lang.String	Value:2015-04-04 12:12:12	Output:false	Database Type:null	
No.5	Access path:@amunt	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2015-05-28 18:06:37.439 [aurora.database] [CONFIG] ============ End of batch update for @current_parameter/datas
2015-05-28 18:06:37.439 [uncertain.proc] [INFO] <esb_conext SERVICE_LOGGING_FILE="/Users/shiliyan/git/aurora-ide/aurora-esb/deploy/logs/message_recevie_2015-05-28.log" __configuration__="uncertain.event.Configuration@1fe85046" BusinessModel="aurora.bm.BusinessModel@27dce631" service_name="message_recevie" SqlGenerationMode="Predefined" _instance.uncertain.logging.ILoggerProvider="uncertain.logging.LoggerProvider@18f9df4f" _instance.aurora.service.IService="aurora.service.http.HttpServiceInstance@154ab8b2" BusinessModelOperation="Update" SqlString="
                BEGIN
                    INSERT
                    INTO
                        tm_interface_payment_result
                        (
                            payment_line_id,
                            head_id,
                            applyno,
                            termno,
                            paymentdate,
                            amunt,
                            creation_date,
                            created_by,
                            last_update_date,
                            last_updated_by
                        )
                        VALUES
                        (
                            tm_interface_payment_result_s.nextval,
                            ${../../@head_id},
                            ${@applyno},
                            ${@termno},
                            to_date(${@paymentdate},&apos;yyyy-mm-dd hh24:mi:ss&apos;),
                            ${@amunt},
                            sysdate,
                            1,
                            sysdate,
                            1
                        );
                END;
            " __database_service_option="aurora.database.service.ServiceOption@487da03d" current_parameter="{}" SqlRunner="aurora.database.SqlRunner@8d03a6d" __database_all_connection="[com.mchange.v2.c3p0.impl.NewProxyConnection@767e3648]" _instance.uncertain.logging.BasicFileHandler="uncertain.logging.BasicFileHandler@5e858f9f" _instance.java.sql.Connection="com.mchange.v2.c3p0.impl.NewProxyConnection@767e3648">
    <parameter>
        <result fileName="CFCar_AUTOFI_PAYMENT_RESULT_20150202_1.txt" batchNo="1" isLast="YES" count="2" serviceName="AUTOFI_PAYMENT_RESULT" version="1.0" yyymmdd="20150202" orgCode="CFCar" __parameter_parsed__="true" head_id="119">
            <datas>
                <data paymentdate="2015-04-04 12:12:12" amount="40000" _status="update" applyno="94012014070100039588S" termno="05"/>
                <data paymentdate="2015-04-04 12:12:12" amount="41000" _status="update" applyno="94012014070100039589S" termno="06"/>
            </datas>
        </result>
    </parameter>
</esb_conext>

