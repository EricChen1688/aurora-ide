2015-05-28 12:01:57.707 [aurora.database] [CONFIG] Running batch-apply with data from path /parameter, total 1 records
2015-05-28 12:01:57.708 [aurora.database] [CONFIG] Executing batch-apply on parameter No.0
2015-05-28 12:01:57.725 [uncertain.proc] [CONFIG] [action] DecideStatement
2015-05-28 12:01:57.727 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2015-05-28 12:01:57.728 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2015-05-28 12:01:57.728 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2015-05-28 12:01:57.729 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2015-05-28 12:01:57.729 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2015-05-28 12:01:57.729 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2015-05-28 12:01:57.729 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2015-05-28 12:01:57.729 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2015-05-28 12:01:57.730 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2015-05-28 12:01:57.730 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2015-05-28 12:01:57.743 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

                DECLARE
                    file_exist NUMBER;
                    v_head_id  number;
                BEGIN
                    SELECT COUNT(1) into file_exist FROM tm_interface_headers WHERE filename = ?;
                    
                    v_head_id := tm_interface_headers_s.nextval;
                    ? := v_head_id;
                    
                    IF file_exist = 0 THEN
                        INSERT
                        INTO
                            tm_interface_headers
                            (
                                head_id,
                                filename,
                                filedate,
                                batchid,
                                version,
                                COUNT,
                                islast,
                                enabled_flag,
                                creation_date,
                                created_by,
                                last_update_date,
                                last_updated_by
                            )
                            VALUES
                            (
                                v_head_id,
                                ?,
                                ?,
                                to_number(?),
                                ?,
                                ?,
                                ?,
                                'Y',
                                sysdate,
                                1,
                                sysdate,
                                1
                            );
                    END IF;
                END;
            
---------------------Binding info---------------------
No.1	Access path:@fileName	Data type of passed value :java.lang.String	Value:CFCar_AUTOFI_PAYEE_INFO_20150202_1副本 4.txt	Output:false	Database Type:null	
No.2	Access path:@head_id	Data type of passed value :[null]	Value:null	Output:true	Database Type:null	
No.3	Access path:@fileName	Data type of passed value :java.lang.String	Value:CFCar_AUTOFI_PAYEE_INFO_20150202_1副本 4.txt	Output:false	Database Type:null	
No.4	Access path:@yyymmdd	Data type of passed value :java.lang.String	Value:20150202	Output:false	Database Type:null	
No.5	Access path:@batchNo	Data type of passed value :java.lang.String	Value:1副本 4	Output:false	Database Type:null	
No.6	Access path:@version	Data type of passed value :java.lang.String	Value:1.0	Output:false	Database Type:null	
No.7	Access path:@count	Data type of passed value :java.lang.String	Value:1	Output:false	Database Type:null	
No.8	Access path:@isLast	Data type of passed value :java.lang.String	Value:NO	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2015-05-28 12:01:57.749 [aurora.database] [CONFIG] ============ Running model batch update with data from path @current_parameter/datas, total 1 records
2015-05-28 12:01:57.749 [aurora.database] [CONFIG] execute update on record No.0 for model tm_interface_payee_info
2015-05-28 12:01:57.751 [uncertain.proc] [CONFIG] [action] DecideStatement
2015-05-28 12:01:57.760 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2015-05-28 12:01:57.778 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2015-05-28 12:01:57.778 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2015-05-28 12:01:57.785 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2015-05-28 12:01:57.786 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2015-05-28 12:01:57.787 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2015-05-28 12:01:57.787 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2015-05-28 12:01:57.787 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2015-05-28 12:01:57.787 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2015-05-28 12:01:57.787 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2015-05-28 12:01:57.799 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

                BEGIN
                    INSERT
                    INTO
                        tm_interface_payee_info
                        (
                            payee_line_id,
                            head_id,
                            applyno,
                            name,
                            address,
                            phone,
                            creation_date,
                            created_by,
                            last_update_date,
                            last_updated_by
                        )
                        VALUES
                        (
                            tm_interface_payee_info_s.nextval,
                            ?,
                            ?,
                            ?,
                            ?,
                            ?,
                            sysdate,
                            1,
                            sysdate,
                            1
                        );
                END;
            
---------------------Binding info---------------------
No.1	Access path:../../@head_id	Data type of passed value :java.lang.Long	Value:25	Output:false	Database Type:null	
No.2	Access path:@applyNo	Data type of passed value :java.lang.String	Value:94012014070100039589S	Output:false	Database Type:null	
No.3	Access path:@name	Data type of passed value :java.lang.String	Value:杭州XX经销商	Output:false	Database Type:null	
No.4	Access path:@address	Data type of passed value :java.lang.String	Value:浙江省杭州市西湖区学院路999号	Output:false	Database Type:null	
No.5	Access path:@phone	Data type of passed value :java.lang.String	Value:057188888888	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2015-05-28 12:01:57.800 [aurora.database] [CONFIG] ============ End of batch update for @current_parameter/datas
2015-05-28 12:01:57.801 [uncertain.proc] [INFO] <esb_conext SERVICE_LOGGING_FILE="/Users/shiliyan/git/aurora-ide/aurora-esb/deploy/logs/message_recevie_2015-05-28.log" __configuration__="uncertain.event.Configuration@56fe6694" BusinessModel="aurora.bm.BusinessModel@cf32322" service_name="message_recevie" SqlGenerationMode="Predefined" _instance.uncertain.logging.ILoggerProvider="uncertain.logging.LoggerProvider@49285437" _instance.aurora.service.IService="aurora.service.http.HttpServiceInstance@2d6a8b57" BusinessModelOperation="Update" SqlString="
                BEGIN
                    INSERT
                    INTO
                        tm_interface_payee_info
                        (
                            payee_line_id,
                            head_id,
                            applyno,
                            name,
                            address,
                            phone,
                            creation_date,
                            created_by,
                            last_update_date,
                            last_updated_by
                        )
                        VALUES
                        (
                            tm_interface_payee_info_s.nextval,
                            ${../../@head_id},
                            ${@applyNo},
                            ${@name},
                            ${@address},
                            ${@phone},
                            sysdate,
                            1,
                            sysdate,
                            1
                        );
                END;
            " __database_service_option="aurora.database.service.ServiceOption@88582a8" current_parameter="{}" SqlRunner="aurora.database.SqlRunner@1dfa5aa9" __database_all_connection="[com.mchange.v2.c3p0.impl.NewProxyConnection@3d594c72]" _instance.uncertain.logging.BasicFileHandler="uncertain.logging.BasicFileHandler@16f82ccd" _instance.java.sql.Connection="com.mchange.v2.c3p0.impl.NewProxyConnection@3d594c72">
    <parameter>
        <result fileName="CFCar_AUTOFI_PAYEE_INFO_20150202_1副本 4.txt" batchNo="1副本 4" isLast="NO" count="1" serviceName="AUTOFI_PAYEE_INFO" version="1.0" yyymmdd="20150202" orgCode="CFCar" __parameter_parsed__="true" head_id="25">
            <datas>
                <data address="浙江省杭州市西湖区学院路999号" _status="update" phone="057188888888" applyNo="94012014070100039589S" name="杭州XX经销商"/>
            </datas>
        </result>
    </parameter>
</esb_conext>

